<head>
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link
      href="https://fonts.googleapis.com/css2?family=Alkalami&family=Anton&family=Open+Sans:ital,wght@0,300;0,600;1,300&family=Roboto:wght@300;400&display=swap"
      rel="stylesheet">
   <link rel="stylesheet" href="style.css">
   <link rel="stylesheet" href="jquery/jquery-ui.min.css">
   <script src="/scripts/javascript.js"></script>


</head>



<div class="registration-form">
   <h1>Регистрация</h1>
   <form method="post" id="form">
      <div class="regphoto">
         <label for="face"><img src="img/islands-retina-middle.png" alt=""></label>
         <input type="file" id="face">
      </div>
      <div class="input">
         <label for="name">Имя</label><br>
         <input type="text" name="name" id="name" placeholder="Введите имя" class="asd" required><span></span>
         <br>
      </div>
      <div class="input">
         <label for="surname">Фамилия</label><br>
         <input type="text" minlength="2" maxlength="30" name="surname" id="surname" placeholder="Введите фамилию"
            class="asd" required><span></span>
         <br>
      </div>
      <div class="input">
         <label for="email">Email</label><br>
         <input type="email" name="email" class="asd" id="email" placeholder="Введите email"
            pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2, 4}$" required> <span></span>
         <br>
      </div>
      <div class="input">
         <label for="tel">Номер телефона</label><br>
         <input id="tel" name="tel" type="text" class="asd" placeholder="+7(___)___-__-__" minlength="16" autofocus
            required> <span></span>
         <br>
      </div>
      <div class="input">
         <label for="date">Дата рождения</label><br>
         <input type="date" name="date" class="asd" id="date" required><span></span><br>
      </div>
      <div class="input">
         <label for="pas1" class="pas">Пароль</label><br>
         <input type="password" name="pas1" id="pas1" placeholder="Введите пароль" minlength="6" class="asd"
            required><span></span><br>
      </div>
      <div class="input">
         <label for="pas2" class="pas">Повторите пароль</label><br>
         <input type="password" name="pas2" class="asd" id="pas2" placeholder="Введите пароль еще раз"
            required><span></span><br>
      </div>
      <div class="input">
         <label for="town">Город доставки</label><br>
         <input type="text" id="town" class="asd" required placeholder="Город" pattern="[А-я]+"
            autocomplete="on"><span></span>
         <ul class="town-list" id="town-list"></ul>
      </div>
      <div class="input">
         <label for="file">Вставьте файл</label>
         <input class="inputFile" type="file" name="file" id="file"><br>
      </div>
      <div class="input">
         <label for="follow">Подписаться на рассылку?</label>
         <input class="inputFollow" type="checkbox" name="follow" id="follow" checked><br>
      </div>
      <div class="input">
         <label for="agree">Я соглашаюсь на обработку персональный данных</label>
         <input class="inputFollow" type="checkbox" name="agree" id="agree" required><br>
      </div>
      <div class="input">
         <button type="submit" class="btn-reg" id="submit1" onclick="myFunction()">зарегистрироваться</button>
      </div>


   </form>
</div>


<!-- 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://rawgit.com/RobinHerbots/jquery.inputmask/3.x/dist/jquery.inputmask.bundle.js"></script>
<script src="./autocomplete.js"></script>
<script>
   $('#pas2').on('input', function () {
      if ($(this).val() != $('#pas1').val()) {
         $('.pas').addClass('pas_wrong');
      }
      else {
         $('.pas').removeClass('pas_wrong');
      }
   });
   $('#pas1').on('input', function () {
      if ($(this).val() != $('#pas2').val() && $('#pas2').val() != 0) {
         $('.pas').addClass('pas_wrong');
      }
      else {
         $('.pas').removeClass('pas_wrong');
      }
   });
   $("#tel").inputmask("+7(999)999-99-99");
   var inputs = $('.asd');
   inputs.each(function (i) {
      $(inputs[i]).on('input', function () {
         if ($(this).val() != 0) {
            $(this).addClass('asd_active');
         }
         else {
            $(this).removeClass('asd_active');
         }
      });
   });





   // document.querySelector("#submit1").onclick = function () {
   //    alert("Всё ок!");
   // }
   const password = document.getElementById('pas1')
   const name = document.getElementById('name')
   const surname = document.getElementById('surname')
   const email = document.getElementById('email')
   const tel = document.getElementById('tel')
   const agree = document.getElementById('agree')
   const town = document.getElementById('town')

   document.getElementById('form').addEventListener('submit', (event) => {
      event.preventDefault()
      valid = true

      const password_value = password.value
      const name_value = name.value
      const surname_value = surname.value
      const email_value = email.value
      const tel_value = tel.value
      const agree_value = agree.value
      const town_value = town.value

      if (password_value.length < 6 || name_value.length < 3 || surname_value.length < 3 || email_value.length < 6 || tel_value.length < 10) {
         alert('Не все поля заполнены правильно')
         valid = false
      }

      if (valid) {
         alert('Всё ок!')
      }



   })


</script>

</script>